(this["webpackJsonpreact-meme-generator"]=this["webpackJsonpreact-meme-generator"]||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(8),i=n.n(r),s=(n(15),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))}),o=n(0);var l=function(){return Object(o.jsx)("header",{className:"header",children:Object(o.jsx)("h1",{className:"header__branding",children:"Meme Generator"})})},u=n(2),d=n(10);var j=function(e){var t=e.body,n=e.modifier,a=e.onClick,c="btn ".concat(n?"btn--".concat(n):"");return Object(o.jsx)("button",{className:c,onClick:a,children:t})};var b=function(e){var t=e.children,n=e.action,a=void 0===n?"#":n,c=e.method,r=void 0===c?"post":c,i=e.styles,s=e.onSubmitHandler;return Object(o.jsx)("form",{action:a,method:r,onSubmit:s,className:"form",style:i,children:t})},f=n(3);var m=function(e){var t=e.children,n=e.legend,a=void 0===n?"Legend":n;return Object(o.jsxs)("fieldset",{className:"form__fieldset",children:[Object(o.jsx)("legend",{className:"form__legend",children:a}),t]})};function O(e,t){var n=e.label,a=e.id,c=e.name,r=e.type,i=void 0===r?"text":r,s=e.value,l=e.onChangeHandler,u=e.onBlurHandler,d=e.additionalClasses,j="form__input ".concat(void 0===d?"":d);return Object(o.jsxs)(o.Fragment,{children:[n?Object(o.jsx)("label",{className:"form__label",htmlFor:a,children:n}):"",Object(o.jsx)("input",{id:a,name:c,ref:t,type:i,value:s,onChange:l,onBlur:u,className:j})]})}var h=Object(a.forwardRef)(O);var v=function(e){var t=e.label,n=e.id,a=e.name,c=e.min,r=void 0===c?5:c,i=e.max,s=void 0===i?200:i,l=e.step,u=void 0===l?1:l,d=e.unit,j=void 0===d?"px":d,b=e.value,f=e.onChangeHandler;return Object(o.jsxs)(o.Fragment,{children:[t?Object(o.jsx)("label",{className:"form__label",htmlFor:n,children:t}):"",Object(o.jsx)("input",{type:"range",id:n,name:a,min:r,max:s,step:u,value:b,onChange:f,title:"".concat(b).concat(j),className:"form__input form__input--range"})]})};var x=function(e){var t=e.value,n=e.body;return Object(o.jsx)("option",{value:t,children:n})};var g=function(e){var t=e.id,n=e.name,a=e.label,c=e.options,r=e.value,i=e.onChangeHandler,s=c.map((function(e){var t=e.replace(" ","-");return Object(o.jsx)(x,{value:t,body:e},t)}));return Object(o.jsxs)(o.Fragment,{children:[a?Object(o.jsx)("label",{className:"form__label",htmlFor:t,children:a}):"",Object(o.jsx)("select",{id:t,name:n,className:"form__select",value:r,onChange:i,children:s})]})};var p=function(e){var t=e.headline,n=e.setHeadline,c=e.xOptions,r=e.yOptions,i=t.id,s=t.legend,l=t.text,d=t.fontSize,b=t.fontUnit,O=t.xPos,x=t.yPos,p=Object(a.useState)(l),_=Object(u.a)(p,2),S=_[0],C=_[1],y=Object(a.useState)(d),N=Object(u.a)(y,2),H=N[0],w=N[1],k=Object(a.useState)(O),P=Object(u.a)(k,2),E=P[0],F=P[1],R=Object(a.useState)(x),z=Object(u.a)(R,2),T=z[0],M=z[1];Object(a.useEffect)((function(){C(l)}),[l]),Object(a.useEffect)((function(){n((function(e){return e.map((function(e){return e.id!==i?e:Object(f.a)(Object(f.a)({},e),{},{text:S,fontSize:H,xPos:E,yPos:T})}))}))}),[n,i,S,H,E,T]);var B=function(e){switch(e.target.name){case"inputText":C(e.target.value);break;case"inputRange":w(Number(e.target.value));break;case"selectX":F(e.target.value);break;case"selectY":M(e.target.value)}};return Object(o.jsxs)(m,{id:i,legend:s,children:[Object(o.jsx)(j,{body:"Delete",modifier:"delete",onClick:function(e){n((function(e){return e.filter((function(e){return e.id!==i}))}))}}),Object(o.jsx)("div",{className:"form__item",children:Object(o.jsx)(h,{label:"Enter your text:",id:"inputText",name:"inputText",value:S,onChangeHandler:B})}),Object(o.jsx)("div",{className:"form__item",children:Object(o.jsx)(v,{label:"Choose a font-size:",id:"inputRange",name:"inputRange",value:H,unit:b,onChangeHandler:B})}),Object(o.jsx)("div",{className:"form__item",children:Object(o.jsx)(g,{label:"Select the vertical position:",id:"selectY",name:"selectY",options:r,value:T,onChangeHandler:B})}),Object(o.jsx)("div",{className:"form__item",children:Object(o.jsx)(g,{label:"Select the horizontal position:",id:"selectX",name:"selectX",options:c,value:E,onChangeHandler:B})})]})};var _=function(e){var t=e.headlines,n=e.setHeadlines,c=Object(a.useState)(1),r=Object(u.a)(c,2),i=r[0],s=r[1],l=["Left","Right","Center"],f=["Top","Bottom","Middle"],m={id:i,legend:"Text settings ".concat(i),text:"Edit here...",fontSize:100,fontUnit:"%",xPos:l[(i-1)%l.length],yPos:f[(i-1)%f.length]},O=t.map((function(e){return Object(o.jsx)(p,{headline:e,setHeadline:n,xOptions:l,yOptions:f},e.id)}));return Object(o.jsx)("div",{className:"meme-form",children:Object(o.jsxs)(b,{onSubmitHandler:function(e){e.preventDefault()},children:[O,O.length<4&&Object(o.jsx)(j,{body:"Add new text",onClick:function(){s((function(e){return e+1})),n((function(e){return[].concat(Object(d.a)(e),[m])}))},modifier:"add"})]})})},S=n(7),C=n.n(S),y=n(9);var N=function(e){var t=e.id,n=e.text,c=e.fontSize,r=e.xPos,i=e.yPos,s=e.setHeadlines,l=Object(a.useRef)(null),d=Object(a.useState)(!1),j=Object(u.a)(d,2),m=j[0],O=j[1];Object(a.useEffect)((function(){m&&l.current.focus()}));var v=Object(a.useState)(n),x=Object(u.a)(v,2),g=x[0],p=x[1];Object(a.useEffect)((function(){p(n)}),[n]);var _=Object(f.a)(Object(f.a)({fontSize:c},function(){var e={};switch(i){case"Top":e={gridRow:1};break;case"Bottom":e={gridRow:3,alignSelf:"end"};break;case"Middle":e={gridRow:2,alignSelf:"center"}}return e}()),function(){var e={};switch(r){case"Left":e={gridColumn:1,textAlign:"left"};break;case"Right":e={gridColumn:2,textAlign:"right"};break;case"Center":e={gridColumnStart:1,gridColumnEnd:"span 2",justifySelf:"center",textAlign:"center"}}return e}());return Object(a.useEffect)((function(){s((function(e){return e.map((function(e){return e.id!==t?e:Object(f.a)(Object(f.a)({},e),{},{text:g})}))}))}),[s,t,g]),Object(a.useEffect)((function(){s((function(e){return e.map((function(e){return e.id!==t?e:Object(f.a)(Object(f.a)({},e),{},{text:g})}))}))}),[s,t,g]),Object(o.jsx)(o.Fragment,{children:m?Object(o.jsx)(b,{onSubmitHandler:function(e){e.preventDefault(),O(!1)},styles:_,children:Object(o.jsx)(h,{value:g,ref:l,onChangeHandler:function(e){p(e.target.value)},onBlurHandler:function(){O(!1)},additionalClasses:"meme-preview__headline"})}):Object(o.jsx)("p",{className:"meme-preview__headline",onClick:function(){return O(!0)},style:_,children:g})})};function H(){return(H=Object(y.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.imgflip.com/get_memes");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.next=8,n;case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var t=e.headlines,n=e.setHeadlines,c=Object(a.useState)([]),r=Object(u.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(!1),d=Object(u.a)(l,2),b=d[0],f=d[1];Object(a.useEffect)((function(){return function(){return H.apply(this,arguments)}().then((function(e){return s(e.data.memes)})),f(!0),function(){return f(!1)}}),[f]);var m=Object(a.useState)({}),O=Object(u.a)(m,2),h=O[0],v=O[1];Object(a.useEffect)((function(){v(i[5])}),[i]);var x=t.map((function(e){return Object(o.jsx)(N,{id:e.id,text:e.text,fontSize:"".concat(e.fontSize).concat(e.fontUnit),xPos:e.xPos,yPos:e.yPos,setHeadlines:n},e.id)}));return Object(o.jsxs)("div",{className:"meme-preview",children:[Object(o.jsxs)("div",{className:"meme-preview__meme",children:[b&&h?Object(o.jsx)("img",{src:h.url,alt:h.name,className:"meme-preview__image"}):"Loading...",x]}),Object(o.jsx)(j,{body:"Random image",modifier:"random",onClick:function(){var e=Math.floor(Math.random()*i.length);v(i[e])}})]})};var k=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(o.jsxs)("main",{className:"main",children:[Object(o.jsx)(w,{headlines:n,setHeadlines:c}),Object(o.jsx)(_,{headlines:n,setHeadlines:c})]})};var P=function(){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)("p",{className:"footer__copyright",children:"Meme Generator. MIT 2021. Armand Philippot."})})};i.a.render(Object(o.jsxs)(c.a.StrictMode,{children:[Object(o.jsx)(l,{}),Object(o.jsx)(k,{}),Object(o.jsx)(P,{})]}),document.getElementById("root")),s()}},[[18,1,2]]]);
//# sourceMappingURL=main.460a0db6.chunk.js.map